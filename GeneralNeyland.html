<head>
  <title>General Neyland's Cup</title>
  <script type="text/javascript" src="//use.typekit.net/uqq0mtc.js"></script>
<script type="text/javascript">try{Typekit.load();}catch(e){}</script>
</head>

<body>
{{> body}}
</body>

<template name="body">
<div class="container">
 <div class="header"><h1 class="tk-stencil-std">General Neyland's Cup</h1></div>
   {{#if pageIs "signup"}}
 	{{> signup}}
 {{else}}
 {{#if currentUser}}
 <div class="row">
{{> nav}}
</div>
 {{#if pageIs "home"}}
 	{{> home}}
 {{/if}}

 {{#if pageIs "user"}}
 	{{#with user}}
 		{{#if this._id}}
	 		{{> user}}
	 	{{/if}}
	{{/with}}
 {{/if}}
 {{else}}
 	{{> loginForm}}
 {{/if}}
 {{/if}}

</div>
</template>

<template name="nav">
<nav class="span10 offset1">
 	<ul class="inline">
 		<li class="navItem"><a href="/">Home</a></li>
 		 <li class="dropdown navItem">
			<a class="dropdown-toggle" data-toggle="dropdown" href="#">
			Teams
			<b class="caret"></b>
			</a>
			<ul class="dropdown-menu">
				{{>teamsDropdown}}
			</ul>
		</li>
 		<li class="navItem"><a href="/messages">Messages</a></li>
 		<li class="navItem"><a href="/history">Hall of Records</a></li>
 	</ul>
</nav>
</template>

<template name="teamsDropdown">
	{{#each owners}}
		<li><a href="#">{{this.profile.firstName}}</a></li>
	{{/each}}
</template>

<template name="loginForm">
	<div class="row">
		<div class="offset3 span6">
			<form id="loginForm">
				<fieldset>
					<label for="username">Username</label>
					<input id="username" type="text"/>
					<label for="password">Password</label>
					<input id="password" type="password"/>
				</fieldset>
				<a href="#" id="yahooButton">Login with Yahoo</a>
				<a href="#" id="facebookButton">Login with Facebook</a>
			</form>
		</div>
	</div>
</template>


